{"version":3,"sources":["api/gatewayClientAPI.tsx","api/utils.ts","store/appProvider.tsx","assets/anywave__logo.png","components/apps.tsx","assets/brainstorm__logo.png","components/session.tsx","components/sessions.tsx","components/webdavLoginForm.tsx","components/spaces.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ContainerState","ContainerType","uniq","type","uniqid","Date","now","toString","slice","URL","window","location","protocol","host","API_GATEWAY","process","API_CONTAINERS","createSession","userId","id","url","fetch","method","headers","body","JSON","stringify","uid","then","r","mutate","json","j","data","createApp","session","user","name","aid","app","password","fetcher","AppContext","React","createContext","AppStoreProvider","children","useState","debug","setDebug","currentSession","setCurrentSession","setUser","showWedavForm","setShowWedavForm","useEffect","currentUser","getCurrentUser","useSWR","refreshInterval","error","value","useMemo","containers","Provider","useAppStore","context","useContext","Error","appItems","description","status","icon","anywaveLogo","Apps","appMenuRefs","useRef","shouldCreateSession","setShouldCreateSession","sessionForNewApp","setSessionForNewApp","newSessionForApp","setNewSessionForApp","appName","setAppName","inAppPage","setInAppPage","nextUser","container","find","c","state","RUNNING","sessions","filter","SESSION","map","apps","a","parentId","menuItems","runningApp","sessionApp","label","disabled","command","separator","AppItems","i","className","src","alt","ref","current","model","popup","viewportHeight","menuWidth","onClick","event","toggle","title","Session","fullScreenRef","fullscreen","setFullscreen","inSessionPage","setInSessionPage","requestFullscreen","document","addEventListener","fullscreenElement","AppActions","appInSession","allowFullScreen","EXITED","message","ConditionalWrapper","condition","wrapper","Sessions","classList","add","remove","s","confirm","sessionId","confirmPopup","target","currentTarget","accept","destroyAppsAndSession","visible","showCloseIcon","fullScreen","onHide","fetchRemote","strokeWidth","style","width","height","length","href","e","preventDefault","CREATED","LOADING","STOPPING","forceRemove","WebdavForm","formik","useFormik","initialValues","login","onSubmit","handleSubmit","htmlFor","onChange","handleChange","values","autoFocus","float","Spaces","header","checked","items","routerLink","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.28db781a.chunk.js","sourcesContent":["import { mutate } from 'swr'\nimport { uniq } from './utils'\n\nexport interface Container {\n\tid: string\n\tname: string\n\tuser: string\n\turl: string\n\tstate: ContainerState\n\terror: Error | null\n\ttype: ContainerType\n\tparentId?: string\n\tapps?: AppContainer[]\n}\n\nexport type AppContainer = Container & ContainerOptions\n\nexport interface ContainerOptions {\n\tapp: string\n}\n\nexport enum ContainerState {\n\tUNINITIALIZED = 'uninitialized',\n\tCREATED = 'created',\n\tLOADING = 'loading',\n\tRUNNING = 'running',\n\tSTOPPING = 'stopping',\n\tEXITED = 'exited',\n\tDESTROYED = 'destroyed',\n}\n\nexport enum ContainerType {\n\tSESSION = 'server',\n\tAPP = 'app',\n}\n\nexport interface Error {\n\tcode: string\n\tmessage: string\n}\n\nexport interface UserCredentials {\n\tuid?: string\n\tdisplayName?: string | null\n\tisAdmin?: boolean\n\tpassword?: string\n}\n\nconst URL = process.env.REACT_APP_GATEWAY_API\n\t? `${window.location.protocol}//${window.location.host}`\n\t: `${process.env.REACT_APP_GATEWAY_API}`\nexport const API_GATEWAY = `${URL}${process.env.REACT_APP_GATEWAY_API_PREFIX}`\nexport const API_CONTAINERS = `${API_GATEWAY}/remote-app/containers`\n\n// Debug functions\nexport const fetchRemote = (): void => {\n\tconst url = `${API_CONTAINERS}/fetch`\n\tfetch(url)\n}\n\nexport const forceRemove = (id: string): void => {\n\tconst url = `${API_CONTAINERS}/forceRemove/${id}`\n\tfetch(url)\n}\n\n// Gateway API\nexport const createSession = (userId: string): Promise<Container> => {\n\tconst id = uniq('session')\n\tconst url = `${API_CONTAINERS}/${id}/start`\n\tconst session = fetch(url, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody: JSON.stringify({ uid: userId }),\n\t})\n\t\t.then(r => {\n\t\t\tmutate(`${API_CONTAINERS}/${userId}`)\n\t\t\treturn r.json()\n\t\t})\n\t\t.then(j => j.data)\n\n\treturn session\n}\n\nexport const createApp = (\n\tsession: Container,\n\tuser: UserCredentials,\n\tname: string\n): Promise<Container> => {\n\tconst aid = uniq('app')\n\tconst url = `${API_CONTAINERS}/${session.id}/apps/${aid}/start`\n\tconst app = fetch(url, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody: JSON.stringify({ app: name, uid: user.uid, password: user.password }),\n\t})\n\t\t.then(r => {\n\t\t\tmutate(`${API_CONTAINERS}/${user.uid}`)\n\t\t\treturn r.json()\n\t\t})\n\t\t.then(j => j.data)\n\n\treturn app\n}\n\nexport const createSessionAndApp = (\n\tuser: UserCredentials,\n\tappName: string\n): Promise<Container> => {\n\tconst url = `${API_CONTAINERS}/apps/${appName}/start`\n\tconst sessionAndApp = fetch(url, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody: JSON.stringify({ uid: user.uid, password: user.password }),\n\t})\n\t\t.then(r => {\n\t\t\tmutate(`${API_CONTAINERS}/${user.uid}`)\n\t\t\treturn r.json()\n\t\t})\n\t\t.then(j => j.data)\n\n\treturn sessionAndApp\n}\n\nexport const destroyAppsAndSession = (\n\tsessionId: string,\n\tuserId: string\n): void => {\n\tconst url = `${API_CONTAINERS}/${sessionId}/destroy`\n\tfetch(url, {\n\t\tmethod: 'PUT',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody: JSON.stringify({ uid: userId }),\n\t}).then(() => mutate(`${API_CONTAINERS}/${userId}`))\n}\n","export const uniq = (type = 'session'): string => {\n\tconst uniqid = `${type === 'session' ? 'session' : 'app'}-${Date.now()\n\t\t.toString()\n\t\t.slice(-3)}`\n\n\treturn uniqid\n}\n","import React, { useState } from 'react'\nimport useSWR from 'swr'\n\nimport { getCurrentUser } from '@nextcloud/auth'\n\nimport {\n\tAPI_CONTAINERS,\n\tContainer,\n\tUserCredentials,\n} from '../api/gatewayClientAPI'\n\nexport interface IAppState {\n\tdebug: [boolean, React.Dispatch<React.SetStateAction<boolean>>]\n\tshowWedavForm: [boolean, React.Dispatch<React.SetStateAction<boolean>>]\n\tcurrentSession: [\n\t\tContainer | null,\n\t\tReact.Dispatch<React.SetStateAction<Container | null>>\n\t]\n\tuser: [\n\t\tUserCredentials | null,\n\t\tReact.Dispatch<React.SetStateAction<UserCredentials | null>>\n\t]\n\tcontainers: [Container[] | null, Error | undefined]\n}\n\nexport const fetcher = (url: string): Promise<void> =>\n\tfetch(url).then(r => r.json())\n\nexport const AppContext = React.createContext<IAppState>({} as IAppState)\n\n// Provide state for the HIP app\nexport const AppStoreProvider = ({\n\tchildren,\n}: {\n\tchildren: JSX.Element\n}): JSX.Element => {\n\tconst [debug, setDebug] = useState(false)\n\tconst [currentSession, setCurrentSession] = useState<Container | null>(null)\n\tconst [user, setUser] = useState<UserCredentials | null>(null)\n\tconst [showWedavForm, setShowWedavForm] = useState(false)\n\n\t// Fetch Nextcloud user\n\tReact.useEffect(() => {\n\t\tconst currentUser = getCurrentUser() as UserCredentials\n\t\tsetUser(currentUser)\n\t}, [])\n\n\t// Start polling containers fetch\n\tconst { data, error } = useSWR<any, Error | undefined>(\n\t\t() => (user ? `${API_CONTAINERS}/${user?.uid}` : null),\n\t\tfetcher,\n\t\t{ refreshInterval: 3 * 1000 }\n\t)\n\n\tconst value: IAppState = React.useMemo(\n\t\t() => ({\n\t\t\tdebug: [debug, setDebug],\n\t\t\tcurrentSession: [currentSession, setCurrentSession],\n\t\t\tshowWedavForm: [showWedavForm, setShowWedavForm],\n\t\t\tuser: [user, setUser],\n\t\t\tcontainers: [data?.data || [], error],\n\t\t}),\n\t\t[\n\t\t\tdebug,\n\t\t\tsetDebug,\n\t\t\tcurrentSession,\n\t\t\tsetCurrentSession,\n\t\t\tshowWedavForm,\n\t\t\tsetShowWedavForm,\n\t\t\tuser,\n\t\t\tsetUser,\n\t\t\tdata,\n\t\t\terror,\n\t\t]\n\t)\n\n\treturn <AppContext.Provider value={value}>{children}</AppContext.Provider>\n}\n\nexport const useAppStore = (): IAppState => {\n\tconst context = React.useContext(AppContext)\n\tif (!context) {\n\t\tthrow new Error('Wrap AppProvider!')\n\t}\n\n\treturn context\n}\n","export default __webpack_public_path__ + \"static/media/anywave__logo.1dc8fee7.png\";","import React, { useRef, useState, useEffect } from 'react'\nimport { SlideMenu } from 'primereact/slidemenu'\nimport { Button } from 'primereact/button'\n\nimport brainstormLogo from '../assets/brainstorm__logo.png'\nimport anywaveLogo from '../assets/anywave__logo.png'\n\nimport {\n\tContainer,\n\tContainerType,\n\tContainerState,\n\tAppContainer,\n\tcreateApp,\n\tcreateSession,\n} from '../api/gatewayClientAPI'\nimport { useAppStore } from '../store/appProvider'\nimport './apps.css'\n\ninterface Application {\n\tname: string\n\tdescription: string\n\tstatus: string\n\turl: string\n\ticon: string\n}\n\nexport const appItems: Application[] = [\n\t{\n\t\tname: 'brainstorm',\n\t\tdescription:\n\t\t\t'Brainstorm is a collaborative, open-source application dedicated to the analysis of brain recordings: MEG, EEG, fNIRS, ECoG, depth electrodes and multiunit electrophysiology.',\n\t\tstatus: 'running',\n\t\turl: 'https: //neuroimage.usc.edu/brainstorm/Introduction',\n\t\ticon: brainstormLogo,\n\t},\n\t{\n\t\tname: 'anywave',\n\t\tdescription:\n\t\t\t'AnyWave is a software designed to easily open and view data recorded by EEG or MEG acquisition systems.',\n\t\tstatus: '',\n\t\turl: 'https://meg.univ-amu.fr/wiki/AnyWave',\n\t\ticon: anywaveLogo,\n\t},\n\t// {\n\t// \tname: 'intranat',\n\t// \tdescription:\n\t// \t\t'A software to visualize electrodes implantation on image data and prepare database for group studies',\n\t// \tstatus: 'running',\n\t// \turl: 'https://gin11-web.ujf-grenoble.fr/?page_id=228',\n\t// \ticon: intranatLogo,\n\t// },\n]\n\nconst Apps = (): JSX.Element => {\n\tconst appMenuRefs = useRef<(SlideMenu | null)[]>([])\n\tconst [shouldCreateSession, setShouldCreateSession] = useState(false)\n\tconst [sessionForNewApp, setSessionForNewApp] = useState<Container | null>()\n\tconst [newSessionForApp, setNewSessionForApp] = useState<Container | null>()\n\tconst [appName, setAppName] = useState('')\n\tconst [inAppPage, setInAppPage] = useState(false)\n\n\tconst {\n\t\tcurrentSession: [, setCurrentSession],\n\t\tshowWedavForm: [showWedavForm, setShowWedavForm],\n\t\tuser: [user, setUser],\n\t\tcontainers: [containers],\n\t} = useAppStore()\n\n\t// create app in existing session\n\t// or create new session\n\tuseEffect(() => {\n\t\tif (inAppPage && user?.password && showWedavForm) {\n\t\t\tsetShowWedavForm(false)\n\n\t\t\tif (sessionForNewApp) {\n\t\t\t\tcreateApp(sessionForNewApp, user, appName)\n\t\t\t\t// Remove password after use\n\t\t\t\tconst { password, ...nextUser } = user\n\t\t\t\tsetUser(nextUser)\n\t\t\t\tsetCurrentSession(sessionForNewApp)\n\t\t\t\tsetSessionForNewApp(null)\n\t\t\t\tsetInAppPage(false)\n\t\t\t} else if (shouldCreateSession && user.uid) {\n\t\t\t\tcreateSession(user.uid).then(session => {\n\t\t\t\t\tsetNewSessionForApp(session)\n\t\t\t\t\tsetShouldCreateSession(false)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}, [\n\t\tuser,\n\t\tsessionForNewApp,\n\t\tshouldCreateSession,\n\t\tsetShowWedavForm,\n\t\tsetSessionForNewApp,\n\t\tsetNewSessionForApp,\n\t\tsetShouldCreateSession,\n\t\tsetCurrentSession,\n\t\tsetUser,\n\t\tsetInAppPage,\n\t\tappName,\n\t\tinAppPage,\n\t\tshowWedavForm,\n\t])\n\n\t// create app in new session\n\tuseEffect(() => {\n\t\tif (inAppPage && newSessionForApp && user?.password) {\n\t\t\tsetShowWedavForm(false)\n\n\t\t\tconst container = containers?.find(\n\t\t\t\tc => c.id === newSessionForApp?.id && c.state === ContainerState.RUNNING\n\t\t\t)\n\n\t\t\tif (container) {\n\t\t\t\tcreateApp(container, user, appName)\n\t\t\t\t// Remove password after use\n\t\t\t\tconst { password, ...nextUser } = user\n\t\t\t\tsetUser(nextUser)\n\t\t\t\tsetCurrentSession(container)\n\t\t\t\tsetNewSessionForApp(null)\n\t\t\t\tsetInAppPage(false)\n\t\t\t}\n\t\t}\n\t}, [\n\t\tuser,\n\t\tcontainers,\n\t\tnewSessionForApp,\n\t\tsetCurrentSession,\n\t\tsetNewSessionForApp,\n\t\tsetUser,\n\t\tappName,\n\t\tinAppPage,\n\t\tsetShowWedavForm,\n\t])\n\n\tconst sessions =\n\t\tcontainers\n\t\t\t?.filter(\n\t\t\t\t(container: Container) => container.type === ContainerType.SESSION\n\t\t\t)\n\t\t\t.map((container: Container) => ({\n\t\t\t\t...container,\n\t\t\t\tapps: (containers as AppContainer[]).filter(\n\t\t\t\t\ta => a.parentId === container.id\n\t\t\t\t),\n\t\t\t})) || []\n\n\tconst menuItems = (app: Application) =>\n\t\t[\n\t\t\t...sessions?.map((session: Container ) => {\n\t\t\t\tconst runningApp = session?.apps?.find(\n\t\t\t\t\t(sessionApp: AppContainer) =>\n\t\t\t\t\t\tsession.id === sessionApp.parentId && sessionApp.app === app.name\n\t\t\t\t)\n\t\t\t\treturn {\n\t\t\t\t\tlabel: runningApp\n\t\t\t\t\t\t? `Open in #${session.name}`\n\t\t\t\t\t\t: `Run in #${session.name}`,\n\t\t\t\t\ticon: runningApp ? 'pi pi-eye' : 'pi pi-clone',\n\t\t\t\t\tdisabled: session.state !== ContainerState.RUNNING,\n\t\t\t\t\tcommand: () => {\n\t\t\t\t\t\tif (runningApp) {\n\t\t\t\t\t\t\tsetCurrentSession(session)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetInAppPage(true)\n\t\t\t\t\t\t\tsetAppName(app.name)\n\t\t\t\t\t\t\tsetSessionForNewApp(session)\n\t\t\t\t\t\t\tsetShowWedavForm(true)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}),\n\t\t\t{\n\t\t\t\tseparator: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Create a new session',\n\t\t\t\ticon: 'pi pi-clone',\n\t\t\t\tcommand: () => {\n\t\t\t\t\tsetInAppPage(true)\n\t\t\t\t\tsetAppName(app.name)\n\t\t\t\t\tsetShouldCreateSession(true)\n\t\t\t\t\tsetShowWedavForm(true)\n\t\t\t\t},\n\t\t\t},\n\t\t] || []\n\n\tconst AppItems = () => (\n\t\t<>\n\t\t\t{appItems.map((app, i) => (\n\t\t\t\t<div key={`${app.name}`} className='apps__cards'>\n\t\t\t\t\t<div className='apps__card'>\n\t\t\t\t\t\t<img src={app.icon} alt='' />\n\t\t\t\t\t\t<div className='apps__name'>{app.name}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='apps__actions'>\n\t\t\t\t\t\t<SlideMenu\n\t\t\t\t\t\t\tref={ref => (appMenuRefs.current[i] = ref)}\n\t\t\t\t\t\t\tmodel={menuItems(app)}\n\t\t\t\t\t\t\tpopup\n\t\t\t\t\t\t\tviewportHeight={220}\n\t\t\t\t\t\t\tmenuWidth={175}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\tclassName='p-button-sm p-button-outlined'\n\t\t\t\t\t\t\ticon='pi pi-ellipsis-v'\n\t\t\t\t\t\t\tlabel='Actions'\n\t\t\t\t\t\t\tonClick={event => appMenuRefs?.current[i]?.toggle(event)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</>\n\t)\n\n\treturn (\n\t\t<div>\n\t\t\t<main className='apps p-shadow-5'>\n\t\t\t\t<section\n\t\t\t\t\tclassName='apps__header'\n\t\t\t\t\ttitle='Apps are launched inside a session'\n\t\t\t\t>\n\t\t\t\t\t<h2>Applications</h2>\n\t\t\t\t</section>\n\t\t\t\t<section className='apps__launchpad'>\n\t\t\t\t\t<AppItems />\n\t\t\t\t</section>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n\nexport default Apps\n","export default \"data:image/png;base64,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\"","import { Button } from 'primereact/button'\nimport { ProgressSpinner } from 'primereact/progressspinner'\nimport React, { useEffect, useRef, useState } from 'react'\n\nimport { useAppStore } from '../store/appProvider'\nimport {\n\tAppContainer,\n\tContainerState,\n\tcreateApp,\n} from '../api/gatewayClientAPI'\nimport { appItems } from '../components/apps'\n\nconst xpraHTML5Parameters = 'keyboard=false&sharing=yes&sound=no'\n\nconst Session = (): JSX.Element => {\n\tconst fullScreenRef = useRef<HTMLIFrameElement>(null)\n\tconst [fullscreen, setFullscreen] = useState(false)\n\tconst [inSessionPage, setInSessionPage] = useState(false)\n\tconst [appName, setAppName] = useState('')\n\n\tconst {\n\t\tcurrentSession: [currentSession, setCurrentSession],\n\t\tshowWedavForm: [showWedavForm, setShowWedavForm],\n\t\tcontainers: [containers],\n\t\tuser: [user, setUser],\n\t} = useAppStore()\n\n\tuseEffect(() => {\n\t\tif (inSessionPage && showWedavForm && user?.password) {\n\t\t\tsetShowWedavForm(false)\n\t\t\tif (currentSession !== null) createApp(currentSession, user, appName)\n\n\t\t\t// Remove password after use\n\t\t\tconst { password, ...nextUser } = user\n\t\t\tsetUser(nextUser)\n\t\t\tsetInSessionPage(false)\n\t\t}\n\t}, [\n\t\tuser,\n\t\tinSessionPage,\n\t\tcurrentSession,\n\t\tshowWedavForm,\n\t\tsetShowWedavForm,\n\t\tsetUser,\n\t\tsetInSessionPage,\n\t\tappName,\n\t])\n\n\tuseEffect(() => {\n\t\tif (fullscreen) {\n\t\t\tfullScreenRef?.current?.requestFullscreen()\n\t\t\tdocument.addEventListener('fullscreenchange', () => {\n\t\t\t\tif (!document.fullscreenElement) {\n\t\t\t\t\tsetFullscreen(false)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}, [fullscreen])\n\n\tconst AppActions = () => (\n\t\t<div>\n\t\t\t{appItems.map(app => {\n\t\t\t\tconst appInSession = (containers as AppContainer[])?.find(\n\t\t\t\t\tcontainer =>\n\t\t\t\t\t\tcontainer.parentId === currentSession?.id &&\n\t\t\t\t\t\tcontainer.app === app.name\n\t\t\t\t)\n\n\t\t\t\tif (appInSession) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={appInSession.id}>\n\t\t\t\t\t\t\t<div className='session__sidebar-appname'>{appInSession.app}</div>\n\t\t\t\t\t\t\t<div className='session__sidebar-details'>\n\t\t\t\t\t\t\t\t<p>{appInSession.state}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey={app.name}\n\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\tclassName='p-button-sm p-button-outlined'\n\t\t\t\t\t\t\ticon='pi pi-clone'\n\t\t\t\t\t\t\tlabel={`Run ${app.name}`}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetInSessionPage(true)\n\t\t\t\t\t\t\t\tsetAppName(app.name)\n\t\t\t\t\t\t\t\tsetShowWedavForm(true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t})}\n\t\t</div>\n\t)\n\n\treturn (\n\t\t<div className='session__sidebar'>\n\t\t\t{currentSession?.url && (\n\t\t\t\t<iframe\n\t\t\t\t\tref={fullScreenRef}\n\t\t\t\t\ttitle='Live Session'\n\t\t\t\t\tclassName='session__sidebar_iframe'\n\t\t\t\t\tsrc={`${currentSession.url}?${xpraHTML5Parameters}`}\n\t\t\t\t\tallowFullScreen\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{!currentSession?.url && (\n\t\t\t\t<div className='session__sidebar_iframe'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ProgressSpinner />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<div className='session__sidebar-info'>\n\t\t\t\t<div className='session__sidebar-header'>\n\t\t\t\t\t<div className='session__sidebar-name'>{`#${currentSession?.name}`}</div>\n\t\t\t\t\t<div className='session__sidebar_actions'>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttitle='Go back to main window'\n\t\t\t\t\t\t\ticon='pi pi-chevron-left'\n\t\t\t\t\t\t\tclassName='p-button-sm p-button-rounded p-button-outlined p-button-secondary p-mr-2'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetCurrentSession(null)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttitle='Fullscreen'\n\t\t\t\t\t\t\ticon='pi pi-window-maximize'\n\t\t\t\t\t\t\tclassName='p-button-sm p-button-outlined p-button-primary p-mr-2'\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\tcurrentSession?.state !== ContainerState.RUNNING &&\n\t\t\t\t\t\t\t\tcurrentSession?.state !== ContainerState.EXITED\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetFullscreen(true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='session__sidebar-details'>\n\t\t\t\t\t<p>{currentSession?.state}</p>\n\t\t\t\t\t<p>{currentSession?.error?.message}</p>\n\t\t\t\t\t<div className='session__sidebar-apps'>\n\t\t\t\t\t\t<AppActions />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Session\n","import { Button } from 'primereact/button'\nimport { ProgressSpinner } from 'primereact/progressspinner'\nimport { confirmPopup } from 'primereact/confirmpopup'\nimport { Sidebar } from 'primereact/sidebar'\nimport React, { useEffect } from 'react'\nimport { useAppStore } from '../store/appProvider'\nimport {\n\tContainer,\n\tContainerType,\n\tContainerState,\n\tcreateSession,\n\tdestroyAppsAndSession,\n\tAppContainer,\n\tfetchRemote,\n\tforceRemove,\n} from '../api/gatewayClientAPI'\nimport Session from './session'\nimport './sessions.css'\n\nconst ConditionalWrapper = ({\n\tcondition,\n\twrapper,\n\tchildren,\n}: {\n\tcondition: boolean\n\twrapper: (children: JSX.Element) => JSX.Element\n\tchildren: JSX.Element\n}): JSX.Element => (condition ? wrapper(children) : children)\n\nconst Sessions = (): JSX.Element => {\n\tconst {\n\t\tdebug: [debug],\n\t\tcurrentSession: [currentSession, setCurrentSession],\n\t\tuser: [user],\n\t\tcontainers: [containers, error],\n\t} = useAppStore()\n\n\tuseEffect(() => {\n\t\tif (currentSession) {\n\t\t\tdocument.body.classList.add('body-fixed')\n\t\t} else {\n\t\t\tdocument.body.classList.remove('body-fixed')\n\t\t}\n\t}, [currentSession])\n\n\tconst sessions = containers\n\t\t?.filter((container: Container) => container.type === ContainerType.SESSION)\n\t\t.map((s: Container) => ({\n\t\t\t...s,\n\t\t\tapps: (containers as AppContainer[]).filter(a => a.parentId === s.id),\n\t\t}))\n\n\tconst confirm = (event: any, sessionId: string) => {\n\t\tconfirmPopup({\n\t\t\ttarget: event.currentTarget,\n\t\t\tmessage: 'Permanently remove this session and all its applications?',\n\t\t\ticon: 'pi pi-exclamation-triangle',\n\t\t\taccept: () => destroyAppsAndSession(sessionId, user?.uid || ''),\n\t\t})\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Sidebar\n\t\t\t\tvisible={currentSession != null}\n\t\t\t\tshowCloseIcon={false}\n\t\t\t\tfullScreen\n\t\t\t\tonHide={() => setCurrentSession(null)}\n\t\t\t>\n\t\t\t\t<Session />\n\t\t\t</Sidebar>\n\t\t\t<main className='sessions p-shadow-5'>\n\t\t\t\t<section\n\t\t\t\t\tclassName='sessions__header'\n\t\t\t\t\ttitle='A session is a remote session instance where you can launch apps'\n\t\t\t\t>\n\t\t\t\t\t<h2>My Sessions</h2>\n\t\t\t\t\t{debug && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName='p-button-sm'\n\t\t\t\t\t\t\tlabel='Fetch remote'\n\t\t\t\t\t\t\tonClick={() => user && fetchRemote()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName='p-button-sm'\n\t\t\t\t\t\tlabel='Create session'\n\t\t\t\t\t\tonClick={() => createSession(user?.uid || '')}\n\t\t\t\t\t/>\n\t\t\t\t</section>\n\t\t\t\t<section className='sessions__browser'>\n\t\t\t\t\t{!sessions && !error && (\n\t\t\t\t\t\t<ProgressSpinner\n\t\t\t\t\t\t\tstrokeWidth='4'\n\t\t\t\t\t\t\tstyle={{ width: '24px', height: '24px' }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{error && <p>{error.message}</p>}\n\t\t\t\t\t{!error && sessions?.length === 0 && <p>Please, create a session</p>}\n\n\t\t\t\t\t<div className='sessions__items'>\n\t\t\t\t\t\t{sessions?.map(session => (\n\t\t\t\t\t\t\t<div className='session__item' key={`${session.id}`}>\n\t\t\t\t\t\t\t\t<div className='session__desktop'>\n\t\t\t\t\t\t\t\t\t<ConditionalWrapper\n\t\t\t\t\t\t\t\t\t\tcondition={session.state === ContainerState.RUNNING}\n\t\t\t\t\t\t\t\t\t\twrapper={children => (\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\ttitle='Open'\n\t\t\t\t\t\t\t\t\t\t\t\thref={session.url}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentSession(session)\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div className='session__desktop_overlay'>\n\t\t\t\t\t\t\t\t\t\t\t<div className='session__desktop-text'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='session__name'>{`#${session?.name}`}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='session__details'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{session.state}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{session.error?.message}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{session.apps.map(app => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={app.id} className='session_details-app'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>{app.app}</strong>: {app.state}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{app.error?.message}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className='session__desktop-loading'>\n\t\t\t\t\t\t\t\t\t\t\t\t{(session.state === ContainerState.CREATED ||\n\t\t\t\t\t\t\t\t\t\t\t\t\tsession.state === ContainerState.LOADING ||\n\t\t\t\t\t\t\t\t\t\t\t\t\tsession.state === ContainerState.STOPPING ||\n\t\t\t\t\t\t\t\t\t\t\t\t\tsession.apps.find(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ta =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta.state === ContainerState.CREATED ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta.state === ContainerState.LOADING ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta.state === ContainerState.STOPPING\n\t\t\t\t\t\t\t\t\t\t\t\t\t)) && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ProgressSpinner\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth='4'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '24px', height: '24px' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</ConditionalWrapper>\n\t\t\t\t\t\t\t\t\t<div className='session_actions'>\n\t\t\t\t\t\t\t\t\t\t{debug && (\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\ttitle='Force remove'\n\t\t\t\t\t\t\t\t\t\t\t\ticon='pi pi-times'\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='p-button-sm p-button-rounded p-button-danger p-mr-2'\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\t\t\tsession.state !== ContainerState.RUNNING &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tsession.state !== ContainerState.EXITED\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => forceRemove(session.id)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttitle='Shut down'\n\t\t\t\t\t\t\t\t\t\t\ticon='pi pi-times'\n\t\t\t\t\t\t\t\t\t\t\tclassName='p-button-sm p-button-rounded p-button-outlined p-button-warning p-mr-2'\n\t\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\t\tsession.state !== ContainerState.RUNNING &&\n\t\t\t\t\t\t\t\t\t\t\t\tsession.state !== ContainerState.EXITED\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e: any) => confirm(e, session.id)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttitle='Open'\n\t\t\t\t\t\t\t\t\t\t\ticon='pi pi-eye'\n\t\t\t\t\t\t\t\t\t\t\tclassName='p-button-sm p-button-rounded p-button-primary '\n\t\t\t\t\t\t\t\t\t\t\tdisabled={session.state !== ContainerState.RUNNING}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentSession(session)\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n\nexport default Sessions\n","import React from 'react'\nimport { useFormik } from 'formik'\nimport { InputText } from 'primereact/inputtext'\nimport { Button } from 'primereact/button'\nimport { useAppStore } from '../store/appProvider'\n\n// import { classNames } from \"primereact/utils\";\ninterface UserData {\n\tlogin: string\n\tpassword: string\n}\n\nconst WebdavForm = (): JSX.Element => {\n\t// const [formData, setFormData] = useState({});\n\tconst {\n\t\tuser: [user, setUser],\n\t} = useAppStore()\n\n\tconst formik = useFormik({\n\t\tinitialValues: {\n\t\t\tlogin: '',\n\t\t\tpassword: '',\n\t\t},\n\t\t// validate: (data) => {\n\t\t//     console.log('validate')\n\t\t//   let errors: { login: string | undefined, password: string | undefined } = { login: undefined, password: undefined };\n\n\t\t//   if (!data.login) {\n\t\t//     errors.login = \"Login is required.\";\n\t\t//   }\n\n\t\t//   if (!data.password) {\n\t\t//     errors.password = \"Password is required.\";\n\t\t//   }\n\n\t\t//   console.log(errors)\n\t\t//   return errors;\n\t\t// },\n\t\tonSubmit: (data: UserData) => {\n\t\t\t// setFormData(data);\n\t\t\tsetUser({ ...user, password: data.password })\n\n\t\t\t// formik.resetForm();\n\t\t},\n\t})\n\n\t//   const isFormFieldValid = (name: string) => !!(formik.touched[name] && formik.errors[name]);\n\t//   const getFormErrorMessage = (name: string) => {\n\t//       return isFormFieldValid(name) && <small className=\"p-error\">{formik.errors[name]}</small>;\n\t//   };\n\n\treturn (\n\t\t<>\n\t\t\t<form onSubmit={formik.handleSubmit}>\n\t\t\t\t<div className='p-field p-grid'>\n\t\t\t\t\t<label\n\t\t\t\t\t\thtmlFor='login'\n\t\t\t\t\t\tclassName='p-col-fixed'\n\t\t\t\t\t\tstyle={{ width: '100px' }}\n\t\t\t\t\t\t// className={classNames({ \"p-error\": isFormFieldValid(\"login\") })}\n\t\t\t\t\t>\n\t\t\t\t\t\tLogin *\n\t\t\t\t\t</label>\n\t\t\t\t\t<div className='p-col'>\n\t\t\t\t\t\t<InputText\n\t\t\t\t\t\t\tid='login'\n\t\t\t\t\t\t\tname='login'\n\t\t\t\t\t\t\tvalue={user?.uid}\n\t\t\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t// className={classNames({ \"p-invalid\": isFormFieldValid(\"login\") })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* {getFormErrorMessage(\"login\")} */}\n\t\t\t\t</div>\n\t\t\t\t<div className='p-field p-grid'>\n\t\t\t\t\t<label\n\t\t\t\t\t\thtmlFor='password'\n\t\t\t\t\t\tclassName='p-col-fixed'\n\t\t\t\t\t\tstyle={{ width: '100px' }}\n\t\t\t\t\t>\n\t\t\t\t\t\tPassword *\n\t\t\t\t\t</label>\n\t\t\t\t\t<div className='p-col'>\n\t\t\t\t\t\t<InputText\n\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tvalue={formik.values.password}\n\t\t\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\ttype='submit'\n\t\t\t\t\tlabel='Submit'\n\t\t\t\t\tclassName='p-mt-2'\n\t\t\t\t\tstyle={{ float: 'right' }}\n\t\t\t\t/>\n\t\t\t</form>\n\t\t</>\n\t)\n}\n\nexport default WebdavForm\n","import React from 'react'\nimport { InputSwitch } from 'primereact/inputswitch'\nimport Sessions from './sessions'\nimport Apps from './apps'\nimport { Dialog } from 'primereact/dialog'\nimport WebdavForm from './webdavLoginForm'\nimport { useAppStore } from '../store/appProvider'\n\nimport './spaces.css'\n\nconst Spaces = (): JSX.Element => {\n\tconst {\n\t\tdebug: [debug, setDebug],\n\t\tshowWedavForm: [showWedavForm, setShowWedavForm],\n\t} = useAppStore()\n\n\treturn (\n\t\t<div className='spaces__layout-wrapper'>\n\t\t\t<Dialog\n\t\t\t\theader='Data access'\n\t\t\t\tvisible={showWedavForm}\n\t\t\t\tonHide={() => setShowWedavForm(false)}\n\t\t\t>\n\t\t\t\t<WebdavForm />\n\t\t\t</Dialog>\n\t\t\t<div className='services__apps'>\n\t\t\t\t<Apps />\n\t\t\t\t<div>\n\t\t\t\t\t<p>Debug</p>\n\t\t\t\t\t<InputSwitch checked={debug} onChange={() => setDebug(!debug)} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='spaces__layout-top'>\n\t\t\t\t<div className='services__sessions'>\n\t\t\t\t\t<Sessions />\n\t\t\t\t</div>\n\t\t\t\t{/*\n\t\t\t\t\t<div className='services__files'>\n\t\t\t\t\t\t<Files />\n\t\t\t\t\t</div>\n\t\t\t\t*/}\n\t\t\t</div>\n\n\t\t\t<div className='spaces__layout-bottom' />\n\t\t\t{/* <div className='services__activity'>\n\t\t\t\t{debug && <Activity />}\n\t\t\t</div> */}\n\t\t</div>\n\t)\n}\n\nexport default Spaces\n","import React from 'react'\nimport { TabMenu } from 'primereact/tabmenu'\nimport Spaces from './components/spaces'\nimport './App.css'\nimport { AppStoreProvider } from './store/appProvider'\n\nconst items = [\n\t{\n\t\tlabel: 'Personal',\n\t\trouterLink: '/personal',\n\t},\n\t{\n\t\tlabel: 'Collaborative',\n\t\tdisabled: true,\n\t},\n\t{\n\t\tlabel: 'Public',\n\t\tdisabled: true,\n\t},\n]\n\nconst App = (): JSX.Element => (\n\t<AppStoreProvider>\n\t\t<main>\n\t\t\t<section>\n\t\t\t\t<nav className='nav-menu' />\n\t\t\t\t<div className='spaces'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className='spaces__nav'>\n\t\t\t\t\t\t\t<TabMenu model={items} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Spaces />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<footer>\n\t\t\t\t<p>HIP 2021</p>\n\t\t\t</footer>\n\t\t</main>\n\t</AppStoreProvider>\n)\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry)\n\t\t\tgetFID(onPerfEntry)\n\t\t\tgetFCP(onPerfEntry)\n\t\t\tgetLCP(onPerfEntry)\n\t\t\tgetTTFB(onPerfEntry)\n\t\t})\n\t}\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nimport 'primereact/resources/themes/saga-blue/theme.css'\nimport 'primereact/resources/primereact.min.css'\nimport 'primeicons/primeicons.css'\nimport 'primeflex/primeflex.css'\nimport './index.css'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('hip-root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}