(this["webpackJsonphip-frontend"]=this["webpackJsonphip-frontend"]||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var s,c,i=n(0),a=n.n(i),o=n(6),r=n.n(o),d=n(24),l=n(3),u=n(25),j=n(8),b=n(5),p=n(13),O=n(26),v=n(27),m=n(11),h=n(28),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"session",t="".concat("session"===e?"session":"app","-").concat(Date.now().toString().slice(-3));return t};!function(e){e.UNINITIALIZED="uninitialized",e.CREATED="created",e.LOADING="loading",e.RUNNING="running",e.STOPPING="stopping",e.EXITED="exited",e.DESTROYED="destroyed"}(s||(s={})),function(e){e.SESSION="server",e.APP="app"}(c||(c={}));var x="".concat(""),N="".concat(x).concat("/api/v1"),g="".concat(N,"/remote-app/containers"),C=function(e){var t=f("session"),n="".concat(g,"/").concat(t,"/start");return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:e})}).then((function(t){return Object(m.b)("".concat(g,"/").concat(e)),t.json()})).then((function(e){return e.data}))},y=function(e,t,n){var s=f("app"),c="".concat(g,"/").concat(e.id,"/apps/").concat(s,"/start");return fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({app:n,uid:t.uid,password:t.password})}).then((function(e){return Object(m.b)("".concat(g,"/").concat(t.uid)),e.json()})).then((function(e){return e.data}))},S=n(1),A=function(e){return fetch(e).then((function(e){return e.json()}))},E=a.a.createContext({}),w=function(e){var t=e.children,n=Object(i.useState)(!1),s=Object(l.a)(n,2),c=s[0],o=s[1],r=Object(i.useState)(null),d=Object(l.a)(r,2),u=d[0],j=d[1],b=Object(i.useState)(null),p=Object(l.a)(b,2),O=p[0],v=p[1],f=Object(i.useState)(!1),x=Object(l.a)(f,2),N=x[0],C=x[1];a.a.useEffect((function(){var e=Object(h.getCurrentUser)();v(e)}),[]);var y=Object(m.a)((function(){return O?"".concat(g,"/").concat(null===O||void 0===O?void 0:O.uid):null}),A,{refreshInterval:3e3}),w=y.data,I=y.error,R=a.a.useMemo((function(){return{debug:[c,o],currentSession:[u,j],showWedavForm:[N,C],user:[O,v],containers:[(null===w||void 0===w?void 0:w.data)||[],I]}}),[c,o,u,j,N,C,O,v,w,I]);return Object(S.jsx)(E.Provider,{value:R,children:t})},I=function(){var e=a.a.useContext(E);if(!e)throw new Error("Wrap AppProvider!");return e},R=n(14),T=n(34),F=n(29),D=n.p+"static/media/anywave__logo.1dc8fee7.png",k=(n(47),["password"]),G=["password"],M=[{name:"brainstorm",description:"Brainstorm is a collaborative, open-source application dedicated to the analysis of brain recordings: MEG, EEG, fNIRS, ECoG, depth electrodes and multiunit electrophysiology.",status:"running",url:"https: //neuroimage.usc.edu/brainstorm/Introduction",icon:"data:image/png;base64,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"},{name:"anywave",description:"AnyWave is a software designed to easily open and view data recorded by EEG or MEG acquisition systems.",status:"",url:"https://meg.univ-amu.fr/wiki/AnyWave",icon:D}],L=function(){var e=Object(i.useRef)([]),t=Object(i.useState)(!1),n=Object(l.a)(t,2),a=n[0],o=n[1],r=Object(i.useState)(),d=Object(l.a)(r,2),u=d[0],p=d[1],O=Object(i.useState)(),v=Object(l.a)(O,2),m=v[0],h=v[1],f=Object(i.useState)(""),x=Object(l.a)(f,2),N=x[0],g=x[1],A=Object(i.useState)(!1),E=Object(l.a)(A,2),w=E[0],D=E[1],L=I(),W=Object(l.a)(L.currentSession,2)[1],U=Object(l.a)(L.showWedavForm,2),P=U[0],B=U[1],J=Object(l.a)(L.user,2),Z=J[0],V=J[1],X=Object(l.a)(L.containers,1)[0];Object(i.useEffect)((function(){if(w&&(null===Z||void 0===Z?void 0:Z.password)&&P)if(B(!1),u){y(u,Z,N);Z.password;var e=Object(R.a)(Z,k);V(e),W(u),p(null),D(!1)}else a&&Z.uid&&C(Z.uid).then((function(e){h(e),o(!1)}))}),[Z,u,a,B,p,h,o,W,V,D,N,w,P]),Object(i.useEffect)((function(){if(w&&m&&(null===Z||void 0===Z?void 0:Z.password)){B(!1);var e=null===X||void 0===X?void 0:X.find((function(e){return e.id===(null===m||void 0===m?void 0:m.id)&&e.state===s.RUNNING}));if(e){y(e,Z,N);Z.password;var t=Object(R.a)(Z,G);V(t),W(e),h(null),D(!1)}}}),[Z,X,m,W,h,V,N,w,B]);var Y=(null===X||void 0===X?void 0:X.filter((function(e){return e.type===c.SESSION})).map((function(e){return Object(j.a)(Object(j.a)({},e),{},{apps:X.filter((function(t){return t.parentId===e.id}))})})))||[],H=function(e){return[].concat(Object(T.a)(null===Y||void 0===Y?void 0:Y.map((function(t){var n,c=null===t||void 0===t||null===(n=t.apps)||void 0===n?void 0:n.find((function(n){return t.id===n.parentId&&n.app===e.name}));return{label:c?"Open in #".concat(t.name):"Run in #".concat(t.name),icon:c?"pi pi-eye":"pi pi-clone",disabled:t.state!==s.RUNNING,command:function(){c?W(t):(D(!0),g(e.name),p(t),B(!0))}}}))),[{separator:!0},{label:"Create a new session",icon:"pi pi-clone",command:function(){D(!0),g(e.name),o(!0),B(!0)}}])||[]},z=function(){return Object(S.jsx)(S.Fragment,{children:M.map((function(t,n){return Object(S.jsxs)("div",{className:"apps__cards",children:[Object(S.jsxs)("div",{className:"apps__card",children:[Object(S.jsx)("img",{src:t.icon,alt:""}),Object(S.jsx)("div",{className:"apps__name",children:t.name})]}),Object(S.jsxs)("div",{className:"apps__actions",children:[Object(S.jsx)(F.a,{ref:function(t){return e.current[n]=t},model:H(t),popup:!0,viewportHeight:220,menuWidth:175}),Object(S.jsx)(b.a,{type:"button",className:"p-button-sm p-button-outlined",icon:"pi pi-ellipsis-v",label:"Actions",onClick:function(t){var s;return null===e||void 0===e||null===(s=e.current[n])||void 0===s?void 0:s.toggle(t)}})]})]},"".concat(t.name))}))})};return Object(S.jsx)("div",{children:Object(S.jsxs)("main",{className:"apps p-shadow-5",children:[Object(S.jsx)("section",{className:"apps__header",title:"Apps are launched inside a session",children:Object(S.jsx)("h2",{children:"Applications"})}),Object(S.jsx)("section",{className:"apps__launchpad",children:Object(S.jsx)(z,{})})]})})},W=["password"],U=function(){var e,t=Object(i.useRef)(null),n=Object(i.useState)(!1),c=Object(l.a)(n,2),a=c[0],o=c[1],r=Object(i.useState)(!1),d=Object(l.a)(r,2),u=d[0],j=d[1],O=Object(i.useState)(""),v=Object(l.a)(O,2),m=v[0],h=v[1],f=I(),x=Object(l.a)(f.currentSession,2),N=x[0],g=x[1],C=Object(l.a)(f.showWedavForm,2),A=C[0],E=C[1],w=Object(l.a)(f.containers,1)[0],T=Object(l.a)(f.user,2),F=T[0],D=T[1];Object(i.useEffect)((function(){if(u&&A&&(null===F||void 0===F?void 0:F.password)){E(!1),null!==N&&y(N,F,m);F.password;var e=Object(R.a)(F,W);D(e),j(!1)}}),[F,u,N,A,E,D,j,m]),Object(i.useEffect)((function(){var e;a&&(null===t||void 0===t||null===(e=t.current)||void 0===e||e.requestFullscreen(),document.addEventListener("fullscreenchange",(function(){document.fullscreenElement||o(!1)})))}),[a]);var k=function(){return Object(S.jsx)("div",{children:M.map((function(e){var t=null===w||void 0===w?void 0:w.find((function(t){return t.parentId===(null===N||void 0===N?void 0:N.id)&&t.app===e.name}));return t?Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:"session__sidebar-appname",children:t.app}),Object(S.jsx)("div",{className:"session__sidebar-details",children:Object(S.jsx)("p",{children:t.state})})]},t.id):Object(S.jsx)(b.a,{type:"button",className:"p-button-sm p-button-outlined",icon:"pi pi-clone",label:"Run ".concat(e.name),onClick:function(){j(!0),h(e.name),E(!0)}},e.name)}))})};return Object(S.jsxs)("div",{className:"session__sidebar",children:[(null===N||void 0===N?void 0:N.url)&&Object(S.jsx)("iframe",{ref:t,title:"Live Session",className:"session__sidebar_iframe",src:"".concat(N.url,"?").concat("keyboard=false&sharing=yes&sound=no"),allowFullScreen:!0}),!(null===N||void 0===N?void 0:N.url)&&Object(S.jsx)("div",{className:"session__sidebar_iframe",children:Object(S.jsx)("div",{children:Object(S.jsx)(p.a,{})})}),Object(S.jsxs)("div",{className:"session__sidebar-info",children:[Object(S.jsxs)("div",{className:"session__sidebar-header",children:[Object(S.jsx)("div",{className:"session__sidebar-name",children:"#".concat(null===N||void 0===N?void 0:N.name)}),Object(S.jsxs)("div",{className:"session__sidebar_actions",children:[Object(S.jsx)(b.a,{title:"Go back to main window",icon:"pi pi-chevron-left",className:"p-button-sm p-button-rounded p-button-outlined p-button-secondary p-mr-2",onClick:function(){g(null)}}),Object(S.jsx)(b.a,{title:"Fullscreen",icon:"pi pi-window-maximize",className:"p-button-sm p-button-outlined p-button-primary p-mr-2",disabled:(null===N||void 0===N?void 0:N.state)!==s.RUNNING&&(null===N||void 0===N?void 0:N.state)!==s.EXITED,onClick:function(){o(!0)}})]})]}),Object(S.jsxs)("div",{className:"session__sidebar-details",children:[Object(S.jsx)("p",{children:null===N||void 0===N?void 0:N.state}),Object(S.jsx)("p",{children:null===N||void 0===N||null===(e=N.error)||void 0===e?void 0:e.message}),Object(S.jsx)("div",{className:"session__sidebar-apps",children:Object(S.jsx)(k,{})})]})]})]})},P=(n(48),function(e){var t=e.condition,n=e.wrapper,s=e.children;return t?n(s):s}),B=function(){var e=I(),t=Object(l.a)(e.debug,1)[0],n=Object(l.a)(e.currentSession,2),a=n[0],o=n[1],r=Object(l.a)(e.user,1)[0],d=Object(l.a)(e.containers,2),u=d[0],h=d[1];Object(i.useEffect)((function(){a?document.body.classList.add("body-fixed"):document.body.classList.remove("body-fixed")}),[a]);var f=null===u||void 0===u?void 0:u.filter((function(e){return e.type===c.SESSION})).map((function(e){return Object(j.a)(Object(j.a)({},e),{},{apps:u.filter((function(t){return t.parentId===e.id}))})})),x=function(e,t){Object(O.a)({target:e.currentTarget,message:"Permanently remove this session and all its applications?",icon:"pi pi-exclamation-triangle",accept:function(){return function(e,t){var n="".concat(g,"/").concat(e,"/destroy");fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:t})}).then((function(){return Object(m.b)("".concat(g,"/").concat(t))}))}(t,(null===r||void 0===r?void 0:r.uid)||"")}})};return Object(S.jsxs)("div",{children:[Object(S.jsx)(v.a,{visible:null!=a,showCloseIcon:!1,fullScreen:!0,onHide:function(){return o(null)},children:Object(S.jsx)(U,{})}),Object(S.jsxs)("main",{className:"sessions p-shadow-5",children:[Object(S.jsxs)("section",{className:"sessions__header",title:"A session is a remote session instance where you can launch apps",children:[Object(S.jsx)("h2",{children:"My Sessions"}),t&&Object(S.jsx)(b.a,{className:"p-button-sm",label:"Fetch remote",onClick:function(){return r&&function(){var e="".concat(g,"/fetch");fetch(e)}()}}),Object(S.jsx)(b.a,{className:"p-button-sm",label:"Create session",onClick:function(){return C((null===r||void 0===r?void 0:r.uid)||"")}})]}),Object(S.jsxs)("section",{className:"sessions__browser",children:[!f&&!h&&Object(S.jsx)(p.a,{strokeWidth:"4",style:{width:"24px",height:"24px"}}),h&&Object(S.jsx)("p",{children:h.message}),!h&&0===(null===f||void 0===f?void 0:f.length)&&Object(S.jsx)("p",{children:"Please, create a session"}),Object(S.jsx)("div",{className:"sessions__items",children:null===f||void 0===f?void 0:f.map((function(e){var n;return Object(S.jsx)("div",{className:"session__item",children:Object(S.jsxs)("div",{className:"session__desktop",children:[Object(S.jsx)(P,{condition:e.state===s.RUNNING,wrapper:function(t){return Object(S.jsx)("a",{title:"Open",href:e.url,onClick:function(t){t.preventDefault(),o(e)},children:t})},children:Object(S.jsxs)("div",{className:"session__desktop_overlay",children:[Object(S.jsxs)("div",{className:"session__desktop-text",children:[Object(S.jsx)("div",{className:"session__name",children:"#".concat(null===e||void 0===e?void 0:e.name)}),Object(S.jsxs)("div",{className:"session__details",children:[Object(S.jsx)("p",{children:e.state}),Object(S.jsx)("p",{children:null===(n=e.error)||void 0===n?void 0:n.message}),e.apps.map((function(e){var t;return Object(S.jsxs)("div",{className:"session_details-app",children:[Object(S.jsxs)("p",{children:[Object(S.jsx)("strong",{children:e.app}),": ",e.state]}),Object(S.jsx)("p",{children:null===(t=e.error)||void 0===t?void 0:t.message})]},e.id)}))]})]}),Object(S.jsx)("div",{className:"session__desktop-loading",children:(e.state===s.CREATED||e.state===s.LOADING||e.state===s.STOPPING||e.apps.find((function(e){return e.state===s.CREATED||e.state===s.LOADING||e.state===s.STOPPING})))&&Object(S.jsx)(p.a,{strokeWidth:"4",style:{width:"24px",height:"24px"}})})]})}),Object(S.jsxs)("div",{className:"session_actions",children:[t&&Object(S.jsx)(b.a,{title:"Force remove",icon:"pi pi-times",className:"p-button-sm p-button-rounded p-button-danger p-mr-2",disabled:e.state!==s.RUNNING&&e.state!==s.EXITED,onClick:function(){return function(e){var t="".concat(g,"/forceRemove/").concat(e);fetch(t)}(e.id)}}),Object(S.jsx)(b.a,{title:"Shut down",icon:"pi pi-times",className:"p-button-sm p-button-rounded p-button-outlined p-button-warning p-mr-2",disabled:e.state!==s.RUNNING&&e.state!==s.EXITED,onClick:function(t){return x(t,e.id)}}),Object(S.jsx)(b.a,{title:"Open",icon:"pi pi-eye",className:"p-button-sm p-button-rounded p-button-primary ",disabled:e.state!==s.RUNNING,onClick:function(){o(e)}})]})]})},"".concat(e.id))}))})]})]})]})},J=n(30),Z=n(33),V=n(21),X=function(){var e=I(),t=Object(l.a)(e.user,2),n=t[0],s=t[1],c=Object(Z.a)({initialValues:{login:"",password:""},onSubmit:function(e){s(Object(j.a)(Object(j.a)({},n),{},{password:e.password}))}});return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("form",{onSubmit:c.handleSubmit,children:[Object(S.jsxs)("div",{className:"p-field p-grid",children:[Object(S.jsx)("label",{htmlFor:"login",className:"p-col-fixed",style:{width:"100px"},children:"Login *"}),Object(S.jsx)("div",{className:"p-col",children:Object(S.jsx)(V.a,{id:"login",name:"login",value:null===n||void 0===n?void 0:n.uid,onChange:c.handleChange,disabled:!0})})]}),Object(S.jsxs)("div",{className:"p-field p-grid",children:[Object(S.jsx)("label",{htmlFor:"password",className:"p-col-fixed",style:{width:"100px"},children:"Password *"}),Object(S.jsx)("div",{className:"p-col",children:Object(S.jsx)(V.a,{id:"password",type:"password",value:c.values.password,onChange:c.handleChange,autoFocus:!0})})]}),Object(S.jsx)(b.a,{type:"submit",label:"Submit",className:"p-mt-2",style:{float:"right"}})]})})},Y=(n(51),function(){var e=I(),t=Object(l.a)(e.debug,2),n=t[0],s=t[1],c=Object(l.a)(e.showWedavForm,2),i=c[0],a=c[1];return Object(S.jsxs)("div",{className:"spaces__layout-wrapper",children:[Object(S.jsx)(J.a,{header:"Data access",visible:i,onHide:function(){return a(!1)},children:Object(S.jsx)(X,{})}),Object(S.jsxs)("div",{className:"services__apps",children:[Object(S.jsx)(L,{}),Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{children:"Debug"}),Object(S.jsx)(u.a,{checked:n,onChange:function(){return s(!n)}})]})]}),Object(S.jsx)("div",{className:"spaces__layout-top",children:Object(S.jsx)("div",{className:"services__sessions",children:Object(S.jsx)(B,{})})}),Object(S.jsx)("div",{className:"spaces__layout-bottom"})]})}),H=(n(52),[{label:"Personal",routerLink:"/personal"},{label:"Collaborative",disabled:!0},{label:"Public",disabled:!0}]),z=function(){return Object(S.jsx)(w,{children:Object(S.jsxs)("main",{children:[Object(S.jsxs)("section",{children:[Object(S.jsx)("nav",{className:"nav-menu"}),Object(S.jsx)("div",{className:"spaces",children:Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:"spaces__nav",children:Object(S.jsx)(d.a,{model:H})}),Object(S.jsx)(Y,{})]})})]}),Object(S.jsx)("footer",{children:Object(S.jsx)("p",{children:"HIP 2021"})})]})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),i(e),a(e)}))};n(53),n(54),n(55),n(56),n(57);r.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(z,{})}),document.getElementById("hip-root")),q()}},[[58,1,2]]]);
//# sourceMappingURL=main.1d3c89d3.chunk.js.map