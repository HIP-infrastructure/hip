(this["webpackJsonphip-frontend"]=this["webpackJsonphip-frontend"]||[]).push([[0],{50:function(e,n,t){},52:function(e,n,t){},53:function(e,n,t){},54:function(e,n,t){},59:function(e,n,t){},60:function(e,n,t){"use strict";t.r(n);var s,i,c=t(0),a=t.n(c),r=t(3),o=t.n(r),l=t(26),d=t(11),u=t(9),j=t.n(u),b=t(13),p=t(4),v=t(5),O=t(19),m=t(27),h=t(28),f=t(29),x=t(7),N=t(1),g=a.a.createContext({}),A=function(e){var n=e.children,t=a.a.useState(!1),s=Object(p.a)(t,2),i=s[0],c=s[1],r=a.a.useState(null),o=Object(p.a)(r,2),l={visible:[i,c],selected:[o[0],o[1]]};return Object(N.jsx)(g.Provider,{value:l,children:n})};t(50);!function(e){e.UNINITIALIZED="uninitialized",e.CREATED="created",e.LOADING="loading",e.RUNNING="running",e.STOPPING="stopping",e.EXITED="exited",e.DESTROYED="destroyed"}(s||(s={})),function(e){e.SERVER="server",e.APP="app"}(i||(i={}));var C="".concat("https://dev.thehip.app").concat("/api/v1"),E="".concat(C,"/remote-app/servers"),I=function(e){return fetch(e).then((function(e){return e.json()}))},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"server",n="".concat("server"===e?"session":"app","-").concat(Date.now().toString().slice(-3));return n},R="keyboard=false&sharing=yes&sound=no",S=function(e){var n=e.condition,t=e.wrapper,s=e.children;return n?t(s):s},k=function(){var e,n,t,r=Object(c.useRef)(null),o=Object(c.useRef)(null),l=Object(c.useRef)(null),u=Object(c.useContext)(g),A=Object(p.a)(u.visible,2),C=A[0],k=A[1],w=Object(p.a)(u.selected,2),M=w[0],D=w[1],G=a.a.useState(!1),T=Object(p.a)(G,2),B=T[0],U=T[1],L=Object(x.a)(E,I,{refreshInterval:3e3}),W=L.data,F=L.error,P=function(){var e=Object(b.a)(j.a.mark((function e(n){var t,s,i,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.length>1&&void 0!==c[1]?c[1]:"brainstorm",s=y("app"),i="".concat(E,"/").concat(n.id,"/apps/").concat(s,"/start/").concat(t),fetch(i).then((function(){return Object(x.b)(E)}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),V=null===W||void 0===W?void 0:W.data,Z=null===V||void 0===V?void 0:V.filter((function(e){return e.type===i.SERVER})).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{apps:V.filter((function(n){return n.parentId===e.id}))})})),J=function(e){return(null===V||void 0===V?void 0:V.filter((function(n){return n.parentId===(null===e||void 0===e?void 0:e.id)})))||null},X=function(e,n){Object(m.confirmPopup)({target:e.currentTarget,message:"Delete this container and all its applications?",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var n="".concat(E,"/").concat(e,"/destroy");fetch(n).then((function(){return Object(x.b)(E)}))}(n)},reject:function(){}})};a.a.useEffect((function(){var e;B&&(null===o||void 0===o||null===(e=o.current)||void 0===e||e.requestFullscreen(),document.addEventListener("fullscreenchange",(function(e){console.log(e),document.fullscreenElement||U(!1)})))}),[B]);return Object(N.jsxs)("div",{children:[Object(N.jsx)(h.Toast,{ref:r}),Object(N.jsx)("div",{children:B&&Object(N.jsx)("iframe",{ref:o,title:"Live Session",className:"session__sidebar-iframe",src:"".concat(null===M||void 0===M?void 0:M.url,"?").concat(R),allowFullScreen:!0})}),Object(N.jsx)(f.Sidebar,{visible:C,showCloseIcon:!1,fullScreen:!0,onHide:function(){return k(!1)},children:Object(N.jsxs)("div",{className:"session__sidebar",children:[(null===M||void 0===M?void 0:M.url)&&C&&Object(N.jsx)("iframe",{ref:l,title:"Live Session",className:"session__sidebar_iframe",src:"".concat(M.url,"?").concat(R)}),!(null===M||void 0===M?void 0:M.url)&&Object(N.jsx)("div",{className:"session__sidebar_iframe",children:Object(N.jsx)("div",{children:Object(N.jsx)(O.ProgressSpinner,{})})}),Object(N.jsxs)("div",{className:"session__sidebar-info",children:[Object(N.jsxs)("div",{className:"session__sidebar_actions",children:[Object(N.jsx)(v.Button,{title:"Go to main window",icon:"pi pi-chevron-left",className:"p-button-sm p-button-rounded p-button-outlined p-button-secondary p-mr-2",onClick:function(e){D(null),k(!1)}}),Object(N.jsx)(v.Button,{title:"fullscreen",icon:"pi pi-window-maximize",className:"p-button-sm p-button-rounded p-button-primary p-mr-2",disabled:(null===M||void 0===M?void 0:M.state)!==s.RUNNING&&(null===M||void 0===M?void 0:M.state)!==s.EXITED,onClick:function(){!function(){var e;null===l||void 0===l||null===(e=l.current)||void 0===e||e.requestFullscreen()}()}})]}),Object(N.jsx)("div",{className:"session__sidebar-name",children:null===M||void 0===M?void 0:M.name}),Object(N.jsxs)("div",{className:"session__sidebar-details",children:[Object(N.jsx)("p",{children:null===M||void 0===M?void 0:M.state}),Object(N.jsx)("p",{children:null===M||void 0===M||null===(e=M.error)||void 0===e?void 0:e.message}),M&&(null===(n=J(M))||void 0===n?void 0:n.map((function(e){return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"session__sidebar-name",children:e.app}),Object(N.jsx)("div",{className:"session__sidebar-details",children:Object(N.jsx)("p",{children:e.state})})]},e.id)}))),(null===M||void 0===M?void 0:M.state)===s.RUNNING&&0===(null===(t=J(M))||void 0===t?void 0:t.length)&&Object(N.jsx)(v.Button,{type:"button",className:"p-button-sm p-button-outlined",icon:"pi pi-clone",label:"Open Brainstorm",onClick:function(e){return P(M)}})]})]})]})}),Object(N.jsxs)("main",{className:"sessions",children:[Object(N.jsxs)("section",{className:"sessions__header",children:[Object(N.jsx)("h2",{children:"Sessions"}),Object(N.jsx)(v.Button,{className:"p-button-sm",icon:"pi",label:"Create session",onClick:function(){var e=y("server"),n="".concat(E,"/").concat(e,"/start"),t=fetch(n);return t.then((function(){return Object(x.b)(E)})),t}})]}),Object(N.jsxs)("section",{className:"sessions__browser",children:[!Z&&!F&&Object(N.jsx)(O.ProgressSpinner,{strokeWidth:"4",style:{width:"24px",height:"24px"}}),F&&Object(N.jsx)("p",{children:F.message}),0===(null===Z||void 0===Z?void 0:Z.length)&&Object(N.jsx)("p",{children:"Please, create a session"}),Object(N.jsx)("div",{className:"sessions__items",children:null===Z||void 0===Z?void 0:Z.map((function(e){var n;return Object(N.jsx)("div",{className:"session__item",children:Object(N.jsxs)("div",{className:"session__desktop",children:[Object(N.jsx)(S,{condition:e.state===s.RUNNING,wrapper:function(n){return Object(N.jsx)("a",{onClick:function(){D(e),k(!0)},children:n})},children:Object(N.jsxs)("div",{className:"session__desktop_overlay",children:[Object(N.jsxs)("div",{className:"session__desktop-text",children:[Object(N.jsx)("div",{className:"session__name",children:e.name}),Object(N.jsxs)("div",{className:"session__details",children:[Object(N.jsx)("p",{children:e.state}),Object(N.jsx)("p",{children:null===(n=e.error)||void 0===n?void 0:n.message}),e.apps.map((function(e){var n;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("p",{className:"session_details-app",children:[e.app,": ",e.state]}),Object(N.jsx)("p",{children:null===(n=e.error)||void 0===n?void 0:n.message})]},e.id)}))]})]}),Object(N.jsx)("div",{className:"session__desktop-loading",children:(e.state===s.CREATED||e.state===s.LOADING||e.state===s.STOPPING)&&Object(N.jsx)(O.ProgressSpinner,{strokeWidth:"4",style:{width:"24px",height:"24px"}})})]})}),Object(N.jsxs)("div",{className:"session_actions",children:[Object(N.jsx)(v.Button,{title:"destroy session",icon:"pi pi-times",className:"p-button-sm p-button-rounded p-button-danger p-mr-2",disabled:e.state!==s.RUNNING&&e.state!==s.EXITED,onClick:function(n){return X(n,e.id)}}),Object(N.jsx)(v.Button,{title:"fullscreen",icon:"pi pi-window-maximize",className:"p-button-sm p-button-rounded p-button-primary p-mr-2",disabled:e.state!==s.RUNNING&&e.state!==s.EXITED,onClick:function(){D(e),U(!0)}}),Object(N.jsx)(v.Button,{title:"show",icon:"pi pi-eye",className:"p-button-sm p-button-rounded p-button-primary ",disabled:e.state!==s.RUNNING,onClick:function(){D(e),k(!0)}})]})]})},"".concat(e.id))}))})]})]})]})},w=t(31),M=t(30),D=(t(52),[{name:"Brainstorm",description:"Brainstorm is a collaborative, open-source application dedicated to the analysis of brain recordings: MEG, EEG, fNIRS, ECoG, depth electrodes and multiunit electrophysiology.",status:"running",url:"https: //neuroimage.usc.edu/brainstorm/Introduction",icon:"data:image/png;base64,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"}]),G=function(){var e=Object(b.a)(j.a.mark((function e(){var n,t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y("server"),t="".concat(E,"/").concat(n,"/start"),(s=fetch(t)).then((function(){return Object(x.b)(E)})),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(c.useRef)(null),n=Object(c.useState)(),t=Object(p.a)(n,2),a=t[0],r=t[1],o=Object(c.useContext)(g),l=Object(p.a)(o.visible,2),u=(l[0],l[1]),O=Object(p.a)(o.selected,2),m=(O[0],O[1]),h=function(){var e=Object(b.a)(j.a.mark((function e(n){var t,s,i,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>1&&void 0!==c[1]?c[1]:"brainstorm",n){e.next=3;break}return e.abrupt("return");case 3:s=y("app"),i="".concat(C,"/remote-app/servers/").concat(n.id,"/apps/").concat(s,"/start/").concat(t),fetch(i).then((function(){return Object(x.b)(C)}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=Object(x.a)(E,I,{refreshInterval:3e3}),A=f.data;f.error;Object(c.useEffect)((function(){var e=null===A||void 0===A?void 0:A.data,n=null===e||void 0===e?void 0:e.find((function(e){return e.id===(null===a||void 0===a?void 0:a.id)&&e.state===s.RUNNING}));n&&(h(a),r(null),m(n))}),[A,a,r,m]);var R=null===A||void 0===A?void 0:A.data,S=(null===R||void 0===R?void 0:R.filter((function(e){return e.type===i.SERVER})).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{apps:R.filter((function(n){return n.parentId===e.id}))})})))||[],k=[].concat(Object(w.a)(null===S||void 0===S?void 0:S.map((function(e){var n=e.apps.find((function(n){return e.id===n.parentId&&"brainstorm"===n.app}));return{label:n?"View in ".concat(e.name):"Create in ".concat(e.name),icon:n?"pi pi-eye":"pi pi-clone",disabled:e.state!==s.RUNNING,command:function(){n?(m(e),u(!0)):(h(e),m(e),u(!0))}}}))),[{separator:!0},{label:"Create in new session",icon:"pi pi-clone",command:function(){G().then((function(e){return e.json()})).then((function(e){var n=e.data;r(n),m(n),u(!0)}))}}])||[];return Object(N.jsxs)("main",{className:"apps",children:[Object(N.jsx)("section",{className:"apps__header",children:Object(N.jsx)("h2",{children:"Applications"})}),Object(N.jsx)("section",{className:"apps__launchpad",children:D.map((function(n){return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"apps__card",children:[Object(N.jsx)("img",{src:n.icon,alt:""}),Object(N.jsx)("div",{className:"apps__name",children:n.name})]})}),Object(N.jsxs)("div",{className:"apps__actions",children:[Object(N.jsx)(M.SlideMenu,{ref:e,model:k,popup:!0,viewportHeight:220,menuWidth:175}),Object(N.jsx)(v.Button,{type:"button",className:"p-button-sm p-button-outlined",icon:"pi pi-ellipsis-v",label:"Actions",onClick:function(n){var t;return null===e||void 0===e||null===(t=e.current)||void 0===t?void 0:t.toggle(n)}})]})]},"".concat(n.name))}))})]})},B=(t(53),function(){return Object(N.jsxs)("div",{className:"spaces__layout-wrapper",children:[Object(N.jsx)("div",{className:"services__apps",children:Object(N.jsx)(T,{})}),Object(N.jsx)("div",{className:"spaces__layout-top",children:Object(N.jsx)("div",{className:"services__sessions",children:Object(N.jsx)(k,{})})}),Object(N.jsx)("div",{className:"spaces__layout-bottom"})]})}),U=(t(54),[{label:"Personal",routerLink:"/personal"},{label:"Collaborative",disabled:!0},{label:"Public",disabled:!0}]),L=function(){return Object(N.jsxs)("main",{children:[Object(N.jsxs)("section",{children:[Object(N.jsx)("nav",{className:"nav-menu"}),Object(N.jsx)("div",{className:"spaces",children:Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"spaces__nav",children:Object(N.jsx)(l.TabMenu,{model:U})}),Object(N.jsx)(B,{})]})})]}),Object(N.jsx)("footer",{children:Object(N.jsx)("p",{children:"HIP 2021"})})]})};t(55),t(56),t(57),t(58),t(59);o.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(A,{children:Object(N.jsx)(L,{})})}),document.getElementById("hip-root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.2b2cb7a8.chunk.js.map